(this["webpackJsonpreact-mobx-typescript-realworld-example-app"]=this["webpackJsonpreact-mobx-typescript-realworld-example-app"]||[]).push([[0],{11:function(e,t,a){"use strict";var r,n,o,c,i,l,s=a(4),u=a(7),m=a(8),p=a(2),f=(a(13),a(1)),b=a(6),g=(r=function(){function e(){var t=this;Object(u.a)(this,e),Object(s.a)(this,"appName",n,this),Object(s.a)(this,"token",o,this),Object(s.a)(this,"appLoaded",c,this),Object(s.a)(this,"tags",i,this),Object(s.a)(this,"isLoadingTags",l,this),Object(f.g)((function(){return t.token}),(function(e){e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")}))}return Object(m.a)(e,[{key:"loadTags",value:function(){var e=this;return this.isLoadingTags=!0,b.a.Tags.getAll().then(Object(f.b)((function(t){var a=t.tags;e.tags=a.map((function(e){return e.toLowerCase()}))}))).finally(Object(f.b)((function(){e.isLoadingTags=!1})))}},{key:"setToken",value:function(e){this.token=e}},{key:"setAppLoaded",value:function(){this.appLoaded=!0}}]),e}(),n=Object(p.a)(r.prototype,"appName",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Conduit"}}),o=Object(p.a)(r.prototype,"token",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.localStorage.getItem("jwt")}}),c=Object(p.a)(r.prototype,"appLoaded",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(p.a)(r.prototype,"tags",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(p.a)(r.prototype,"isLoadingTags",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(p.a)(r.prototype,"loadTags",[f.b],Object.getOwnPropertyDescriptor(r.prototype,"loadTags"),r.prototype),Object(p.a)(r.prototype,"setToken",[f.b],Object.getOwnPropertyDescriptor(r.prototype,"setToken"),r.prototype),Object(p.a)(r.prototype,"setAppLoaded",[f.b],Object.getOwnPropertyDescriptor(r.prototype,"setAppLoaded"),r.prototype),r);t.a=new g},18:function(e,t,a){"use strict";var r,n,o,c,i,l=a(4),s=a(7),u=a(8),m=a(2),p=(a(13),a(1)),f=a(6),b=(r=function(){function e(){Object(s.a)(this,e),Object(l.a)(this,"currentUser",n,this),Object(l.a)(this,"loadingUser",o,this),Object(l.a)(this,"updatingUser",c,this),Object(l.a)(this,"updatingUserErrors",i,this)}return Object(u.a)(e,[{key:"pullUser",value:function(){var e=this;return this.loadingUser=!0,f.a.Auth.current().then(Object(p.b)((function(t){var a=t.user;e.currentUser=a}))).finally(Object(p.b)((function(){e.loadingUser=!1})))}},{key:"updateUser",value:function(e){var t=this;return this.updatingUser=!0,f.a.Auth.save(e).then(Object(p.b)((function(e){var a=e.user;t.currentUser=a}))).finally(Object(p.b)((function(){t.updatingUser=!1})))}},{key:"forgetUser",value:function(){this.currentUser=void 0}}]),e}(),n=Object(m.a)(r.prototype,"currentUser",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=Object(m.a)(r.prototype,"loadingUser",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(m.a)(r.prototype,"updatingUser",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=Object(m.a)(r.prototype,"updatingUserErrors",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(m.a)(r.prototype,"pullUser",[p.b],Object.getOwnPropertyDescriptor(r.prototype,"pullUser"),r.prototype),Object(m.a)(r.prototype,"updateUser",[p.b],Object.getOwnPropertyDescriptor(r.prototype,"updateUser"),r.prototype),Object(m.a)(r.prototype,"forgetUser",[p.b],Object.getOwnPropertyDescriptor(r.prototype,"forgetUser"),r.prototype),r);t.a=new b},21:function(e,t,a){"use strict";var r,n,o,c,i=a(4),l=a(7),s=a(8),u=a(2),m=(a(13),a(1)),p=a(6),f=a(18),b=a(11),g=(r=function(){function e(){Object(l.a)(this,e),Object(i.a)(this,"inProgress",n,this),Object(i.a)(this,"errors",o,this),Object(i.a)(this,"values",c,this)}return Object(s.a)(e,[{key:"setUsername",value:function(e){this.values.username=e}},{key:"setEmail",value:function(e){this.values.email=e}},{key:"setPassword",value:function(e){this.values.password=e}},{key:"reset",value:function(){this.values.username="",this.values.email="",this.values.password=""}},{key:"login",value:function(){var e=this;return this.inProgress=!0,this.errors=void 0,p.a.Auth.login(this.values.email,this.values.password).then((function(e){var t=e.user;return b.a.setToken(t.token)})).then((function(){return f.a.pullUser()})).catch(Object(m.b)((function(t){throw e.errors=t.response&&t.response.body&&t.response.body.errors,t}))).finally(Object(m.b)((function(){e.inProgress=!1})))}},{key:"register",value:function(){var e=this;return this.inProgress=!0,this.errors=void 0,p.a.Auth.register(this.values.username,this.values.email,this.values.password).then((function(e){var t=e.user;return b.a.setToken(t.token)})).then((function(){return f.a.pullUser()})).catch(Object(m.b)((function(t){throw e.errors=t.response&&t.response.body&&t.response.body.errors,t}))).finally(Object(m.b)((function(){e.inProgress=!1})))}},{key:"logout",value:function(){return b.a.setToken(void 0),f.a.forgetUser(),Promise.resolve()}}]),e}(),n=Object(u.a)(r.prototype,"inProgress",[m.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=Object(u.a)(r.prototype,"errors",[m.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),c=Object(u.a)(r.prototype,"values",[m.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{username:"",email:"",password:""}}}),Object(u.a)(r.prototype,"setUsername",[m.b],Object.getOwnPropertyDescriptor(r.prototype,"setUsername"),r.prototype),Object(u.a)(r.prototype,"setEmail",[m.b],Object.getOwnPropertyDescriptor(r.prototype,"setEmail"),r.prototype),Object(u.a)(r.prototype,"setPassword",[m.b],Object.getOwnPropertyDescriptor(r.prototype,"setPassword"),r.prototype),Object(u.a)(r.prototype,"reset",[m.b],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),Object(u.a)(r.prototype,"login",[m.b],Object.getOwnPropertyDescriptor(r.prototype,"login"),r.prototype),Object(u.a)(r.prototype,"register",[m.b],Object.getOwnPropertyDescriptor(r.prototype,"register"),r.prototype),Object(u.a)(r.prototype,"logout",[m.b],Object.getOwnPropertyDescriptor(r.prototype,"logout"),r.prototype),r);t.a=new g},42:function(e,t,a){e.exports=a(75)},6:function(e,t,a){"use strict";(function(e){var r=a(36),n=a.n(r),o=a(37),c=a.n(o),i=a(11),l=a(21),s=n()(c.a,e.Promise),u="https://conduit.productionready.io/api",m=encodeURIComponent,p=function(e){return e&&e.response&&401===e.response.status&&l.a.logout(),e},f=function(e){return e.body},b=function(e){i.a.token&&e.set("authorization","Token ".concat(i.a.token))},g=function(e){return s.del("".concat(u).concat(e)).use(b).end(p).then(f)},d=function(e){return s.get("".concat(u).concat(e)).use(b).end(p).then(f)},h=function(e,t){return s.put("".concat(u).concat(e),t).use(b).end(p).then(f)},v=function(e,t){return s.post("".concat(u).concat(e),t).use(b).end(p).then(f)},y={current:function(){return d("/user")},login:function(e,t){return v("/users/login",{user:{email:e,password:t}})},register:function(e,t,a){return v("/users",{user:{username:e,email:t,password:a}})},save:function(e){return h("/user",{user:e})}},E={getAll:function(){return d("/tags")}},O=function(e,t){return"limit=".concat(e,"&offset=").concat(t?t*e:0)},j=function(e){return Object.assign({},e,{slug:void 0})},w={all:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;arguments.length>2&&arguments[2];return d("/articles?".concat(O(t,e)))},byAuthor:function(e,t,a){return d("/articles?author=".concat(m(e),"&").concat(O(5,t)))},byTag:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return d("/articles?tag=".concat(m(e),"&").concat(O(a,t)))},del:function(e){return g("/articles/".concat(e))},favorite:function(e){return v("/articles/".concat(e,"/favorite"),{})},favoritedBy:function(e,t,a){return d("/articles?favorited=".concat(m(e),"&").concat(O(5,t)))},feed:function(e,t){return d("/articles/feed?limit=".concat(t,"&offset=").concat(e))},get:function(e){return d("/articles/".concat(e))},unfavorite:function(e){return g("/articles/".concat(e,"/favorite"))},update:function(e){return h("/articles/".concat(e.slug),{article:j(e)})},create:function(e){return v("/articles",{article:e})}},N={create:function(e,t){return v("/articles/".concat(e,"/comments"),{comment:t})},delete:function(e,t){return g("/articles/".concat(e,"/comments/").concat(t))},forArticle:function(e){return d("/articles/".concat(e,"/comments"))}},P={follow:function(e){return v("/profiles/".concat(e,"/follow"),{})},get:function(e){return d("/profiles/".concat(e))},unfollow:function(e){return g("/profiles/".concat(e,"/follow"))}};t.a={Articles:w,Auth:y,Comments:N,Profile:P,Tags:E}}).call(this,a(23))},75:function(e,t,a){"use strict";a.r(t);var r,n,o,c,i,l,s,u,m,p,f,b,g,d,h,v,y,E,O,j,w,N,P,k=a(0),S=a.n(k),C=a(35),U=a.n(C),A=a(3),D=a(12),x=a(5),L=a(4),T=a(7),z=a(8),R=a(2),F=(a(13),a(1)),I=a(6),B=new(r=function(){function e(){Object(T.a)(this,e),Object(L.a)(this,"isLoading",n,this),Object(L.a)(this,"page",o,this),Object(L.a)(this,"totalPagesCount",c,this),Object(L.a)(this,"articlesRegistry",i,this),Object(L.a)(this,"predicate",l,this)}return Object(z.a)(e,[{key:"clear",value:function(){this.articlesRegistry.clear(),this.page=0}},{key:"getArticle",value:function(e){return this.articlesRegistry.get(e)}},{key:"setPage",value:function(e){this.page=e}},{key:"setPredicate",value:function(e){JSON.stringify(e)!==JSON.stringify(this.predicate)&&(this.clear(),this.predicate=e)}},{key:"$req",value:function(){return this.predicate.myFeed?I.a.Articles.feed(this.page,10):this.predicate.favoritedBy?I.a.Articles.favoritedBy(this.predicate.favoritedBy,this.page,10):this.predicate.tag?I.a.Articles.byTag(this.predicate.tag,this.page,10):this.predicate.author?I.a.Articles.byAuthor(this.predicate.author,this.page,10):I.a.Articles.all(this.page,10,this.predicate)}},{key:"loadArticles",value:function(){var e=this;return this.isLoading=!0,this.$req().then(Object(F.b)((function(t){var a=t.articles,r=t.articlesCount;e.articlesRegistry.clear(),a.forEach((function(t){return e.articlesRegistry.set(t.slug,t)})),e.totalPagesCount=Math.ceil(r/10)}))).finally(Object(F.b)((function(){e.isLoading=!1})))}},{key:"loadArticle",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.acceptCached,n=void 0!==r&&r;if(n){var o=this.getArticle(e);if(o)return Promise.resolve(o)}return this.isLoading=!0,I.a.Articles.get(e).then(Object(F.b)((function(e){var a=e.article;return t.articlesRegistry.set(a.slug,a),a}))).finally(Object(F.b)((function(){t.isLoading=!1})))}},{key:"makeFavorite",value:function(e){var t=this.getArticle(e);return t&&!t.favorited?(t.favorited=!0,t.favoritesCount++,I.a.Articles.favorite(e).catch(Object(F.b)((function(e){throw t.favorited=!1,t.favoritesCount--,e})))):Promise.resolve()}},{key:"unmakeFavorite",value:function(e){var t=this.getArticle(e);return t&&t.favorited?(t.favorited=!1,t.favoritesCount--,I.a.Articles.unfavorite(e).catch(Object(F.b)((function(e){throw t.favorited=!0,t.favoritesCount++,e})))):Promise.resolve()}},{key:"createArticle",value:function(e){var t=this;return I.a.Articles.create(e).then((function(e){var a=e.article;return t.articlesRegistry.set(a.slug,a),a}))}},{key:"updateArticle",value:function(e){var t=this;return I.a.Articles.update(e).then((function(e){var a=e.article;return t.articlesRegistry.set(a.slug,a),a}))}},{key:"deleteArticle",value:function(e){var t=this;return this.articlesRegistry.delete(e),I.a.Articles.del(e).catch(Object(F.b)((function(e){throw t.loadArticles(),e})))}},{key:"articles",get:function(){var e=[],t=this.articlesRegistry.values(),a=!0,r=!1,n=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var i=o.value;e.push(i)}}catch(l){r=!0,n=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return e}}]),e}(),n=Object(R.a)(r.prototype,"isLoading",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=Object(R.a)(r.prototype,"page",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=Object(R.a)(r.prototype,"totalPagesCount",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i=Object(R.a)(r.prototype,"articlesRegistry",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.f.map()}}),l=Object(R.a)(r.prototype,"predicate",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(R.a)(r.prototype,"articles",[F.c],Object.getOwnPropertyDescriptor(r.prototype,"articles"),r.prototype),Object(R.a)(r.prototype,"setPage",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"setPage"),r.prototype),Object(R.a)(r.prototype,"setPredicate",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"setPredicate"),r.prototype),Object(R.a)(r.prototype,"loadArticles",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"loadArticles"),r.prototype),Object(R.a)(r.prototype,"loadArticle",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"loadArticle"),r.prototype),Object(R.a)(r.prototype,"makeFavorite",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"makeFavorite"),r.prototype),Object(R.a)(r.prototype,"unmakeFavorite",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"unmakeFavorite"),r.prototype),Object(R.a)(r.prototype,"createArticle",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"createArticle"),r.prototype),Object(R.a)(r.prototype,"updateArticle",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"updateArticle"),r.prototype),Object(R.a)(r.prototype,"deleteArticle",[F.b],Object.getOwnPropertyDescriptor(r.prototype,"deleteArticle"),r.prototype),r),M=new(s=function(){function e(){Object(T.a)(this,e),Object(L.a)(this,"isCreatingComment",u,this),Object(L.a)(this,"isLoadingComments",m,this),Object(L.a)(this,"commentErrors",p,this),Object(L.a)(this,"articleSlug",f,this),Object(L.a)(this,"comments",b,this)}return Object(z.a)(e,[{key:"setArticleSlug",value:function(e){this.articleSlug!==e&&(this.comments=[],this.articleSlug=e)}},{key:"loadComments",value:function(){var e=this;return this.isLoadingComments=!0,this.commentErrors=void 0,I.a.Comments.forArticle(this.articleSlug).then(Object(F.b)((function(t){var a=t.comments;e.comments=a}))).catch(Object(F.b)((function(t){throw e.commentErrors=t.response&&t.response.body&&t.response.body.errors,t}))).finally(Object(F.b)((function(){e.isLoadingComments=!1})))}},{key:"createComment",value:function(e){var t=this;return this.isCreatingComment=!0,I.a.Comments.create(this.articleSlug,e).then((function(){return t.loadComments()})).finally(Object(F.b)((function(){t.isCreatingComment=!1})))}},{key:"deleteComment",value:function(e){var t=this,a=this.comments.findIndex((function(t){return t.id===e}));return a>-1&&this.comments.splice(a,1),I.a.Comments.delete(this.articleSlug,e).catch(Object(F.b)((function(e){throw t.loadComments(),e})))}}]),e}(),u=Object(R.a)(s.prototype,"isCreatingComment",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(R.a)(s.prototype,"isLoadingComments",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=Object(R.a)(s.prototype,"commentErrors",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),f=Object(R.a)(s.prototype,"articleSlug",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=Object(R.a)(s.prototype,"comments",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(R.a)(s.prototype,"setArticleSlug",[F.b],Object.getOwnPropertyDescriptor(s.prototype,"setArticleSlug"),s.prototype),Object(R.a)(s.prototype,"loadComments",[F.b],Object.getOwnPropertyDescriptor(s.prototype,"loadComments"),s.prototype),Object(R.a)(s.prototype,"createComment",[F.b],Object.getOwnPropertyDescriptor(s.prototype,"createComment"),s.prototype),Object(R.a)(s.prototype,"deleteComment",[F.b],Object.getOwnPropertyDescriptor(s.prototype,"deleteComment"),s.prototype),s),W=new(g=function(){function e(){Object(T.a)(this,e),Object(L.a)(this,"inProgress",d,this),Object(L.a)(this,"errors",h,this),Object(L.a)(this,"articleSlug",v,this),Object(L.a)(this,"title",y,this),Object(L.a)(this,"description",E,this),Object(L.a)(this,"body",O,this),Object(L.a)(this,"tagList",j,this)}return Object(z.a)(e,[{key:"setArticleSlug",value:function(e){this.articleSlug!==e&&(this.reset(),this.articleSlug=e)}},{key:"loadInitialData",value:function(){var e=this;return this.articleSlug?(this.inProgress=!0,B.loadArticle(this.articleSlug,{acceptCached:!0}).then(Object(F.b)((function(t){if(!t)throw new Error("Can't load original article");e.title=t.title,e.description=t.description,e.body=t.body,e.tagList=t.tagList}))).finally(Object(F.b)((function(){e.inProgress=!1})))):Promise.resolve()}},{key:"reset",value:function(){this.title="",this.description="",this.body="",this.tagList=[]}},{key:"setTitle",value:function(e){this.title=e}},{key:"setDescription",value:function(e){this.description=e}},{key:"setBody",value:function(e){this.body=e}},{key:"addTag",value:function(e){this.tagList.includes(e)||this.tagList.push(e)}},{key:"removeTag",value:function(e){this.tagList=this.tagList.filter((function(t){return t!==e}))}},{key:"submit",value:function(){var e=this;this.inProgress=!0,this.errors=void 0;var t={title:this.title,description:this.description,body:this.body,tagList:this.tagList,slug:this.articleSlug};return(this.articleSlug?B.updateArticle(t):B.createArticle(t)).catch(Object(F.b)((function(t){throw e.errors=t.response&&t.response.body&&t.response.body.errors,t}))).finally(Object(F.b)((function(){e.inProgress=!1})))}}]),e}(),d=Object(R.a)(g.prototype,"inProgress",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=Object(R.a)(g.prototype,"errors",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=Object(R.a)(g.prototype,"articleSlug",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=Object(R.a)(g.prototype,"title",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=Object(R.a)(g.prototype,"description",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=Object(R.a)(g.prototype,"body",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=Object(R.a)(g.prototype,"tagList",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(R.a)(g.prototype,"setArticleSlug",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"setArticleSlug"),g.prototype),Object(R.a)(g.prototype,"loadInitialData",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"loadInitialData"),g.prototype),Object(R.a)(g.prototype,"reset",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"reset"),g.prototype),Object(R.a)(g.prototype,"setTitle",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"setTitle"),g.prototype),Object(R.a)(g.prototype,"setDescription",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"setDescription"),g.prototype),Object(R.a)(g.prototype,"setBody",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"setBody"),g.prototype),Object(R.a)(g.prototype,"addTag",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"addTag"),g.prototype),Object(R.a)(g.prototype,"removeTag",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"removeTag"),g.prototype),Object(R.a)(g.prototype,"submit",[F.b],Object.getOwnPropertyDescriptor(g.prototype,"submit"),g.prototype),g),H=a(11),J=a(21),$=a(18),q=new(w=function(){function e(){Object(T.a)(this,e),Object(L.a)(this,"profile",N,this),Object(L.a)(this,"isLoadingProfile",P,this)}return Object(z.a)(e,[{key:"loadProfile",value:function(e){var t=this;this.isLoadingProfile=!0,I.a.Profile.get(e).then(Object(F.b)((function(e){var a=e.profile;t.profile=a}))).finally(Object(F.b)((function(){t.isLoadingProfile=!1})))}},{key:"follow",value:function(){var e=this;this.profile&&!this.profile.following&&(this.profile.following=!0,I.a.Profile.follow(this.profile.username).catch(Object(F.b)((function(){e.profile.following=!1}))))}},{key:"unfollow",value:function(){var e=this;this.profile&&this.profile.following&&(this.profile.following=!1,I.a.Profile.unfollow(this.profile.username).catch(Object(F.b)((function(){e.profile.following=!0}))))}}]),e}(),N=Object(R.a)(w.prototype,"profile",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),P=Object(R.a)(w.prototype,"isLoadingProfile",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(R.a)(w.prototype,"loadProfile",[F.b],Object.getOwnPropertyDescriptor(w.prototype,"loadProfile"),w.prototype),Object(R.a)(w.prototype,"follow",[F.b],Object.getOwnPropertyDescriptor(w.prototype,"follow"),w.prototype),Object(R.a)(w.prototype,"unfollow",[F.b],Object.getOwnPropertyDescriptor(w.prototype,"unfollow"),w.prototype),w),Y={articleStore:B,commentStore:M,editorStore:W,authStore:J.a,commonStore:H.a,profileStore:q,userStore:$.a},_=S.a.createContext(null),G=function(){var e=S.a.useContext(_);if(!e)throw new Error("useStore must be used within a StoreProvider.");return e},K=function(e){return e.currentUser?null:S.a.createElement("ul",{className:"nav navbar-nav pull-xs-right"},S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.b,{to:"/",className:"nav-link"},"Home")),S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.b,{to:"/login",className:"nav-link"},"Sign in")),S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.b,{to:"/register",className:"nav-link"},"Sign up")))},Z=function(e){return e.currentUser?S.a.createElement("ul",{className:"nav navbar-nav pull-xs-right"},S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.b,{to:"/",className:"nav-link"},"Home")),S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.b,{to:"/editor",className:"nav-link"},S.a.createElement("i",{className:"ion-compose"}),"\xa0New Post")),S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.b,{to:"/settings",className:"nav-link"},S.a.createElement("i",{className:"ion-gear-a"}),"\xa0Settings")),S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.b,{to:"/@".concat(e.currentUser.username),className:"nav-link"},S.a.createElement("img",{src:e.currentUser.image,className:"user-pic",alt:""}),e.currentUser.username))):null},Q=function(){var e=G(),t=e.commonStore,a=e.userStore;return Object(x.c)((function(){return S.a.createElement("nav",{className:"navbar navbar-light"},S.a.createElement("div",{className:"container"},S.a.createElement(A.b,{to:"/",className:"navbar-brand"},t.appName.toLowerCase()),S.a.createElement(K,{currentUser:a.currentUser}),S.a.createElement(Z,{currentUser:a.currentUser})))}))},V=a(27),X=a.n(V),ee=function(e){var t=e.appName;return e.token?null:S.a.createElement("div",{className:"banner"},S.a.createElement("div",{className:"container"},S.a.createElement("h1",{className:"logo-font"},t.toLowerCase()),S.a.createElement("p",null,"A place to share your knowledge.")))},te=a(28),ae=function(e){var t=G().articleStore,a=function(a){a.preventDefault();var r=e.article;r.favorited?t.unmakeFavorite(r.slug):t.makeFavorite(r.slug)};return Object(x.c)((function(){var t=e.article,r=t.favorited?"btn btn-sm btn-primary":"btn btn-sm btn-outline-primary";return S.a.createElement("div",{className:"article-preview"},S.a.createElement("div",{className:"article-meta"},S.a.createElement(A.b,{to:"/@".concat(t.author.username)},S.a.createElement("img",{src:t.author.image,alt:""})),S.a.createElement("div",{className:"info"},S.a.createElement(A.b,{className:"author",to:"/@".concat(t.author.username)},t.author.username),S.a.createElement("span",{className:"date"},new Date(t.createdAt).toDateString())),S.a.createElement("div",{className:"pull-xs-right"},S.a.createElement("button",{className:r,onClick:a},S.a.createElement("i",{className:"ion-heart"})," ",t.favoritesCount))),S.a.createElement(A.b,{to:"/article/".concat(t.slug),className:"preview-link"},S.a.createElement("h1",null,t.title),S.a.createElement("p",null,t.description),S.a.createElement("span",null,"Read more..."),S.a.createElement("ul",{className:"tag-list"},t.tagList.map((function(e){return S.a.createElement("li",{className:"tag-default tag-pill tag-outline",key:e},e)})))))}))},re=function(e){if(e.totalPagesCount<2)return null;for(var t=[],a=0;a<e.totalPagesCount;++a)t.push(a);return S.a.createElement("nav",null,S.a.createElement("ul",{className:"pagination"},t.map((function(t){var a=t===e.currentPage;return S.a.createElement("li",{className:a?"page-item active":"page-item",onClick:function(a){a.preventDefault(),e.onSetPage(t)},key:t.toString()},S.a.createElement("a",{className:"page-link",href:""},t+1))}))))},ne={borderRadius:"50%",width:"40px",height:"40px",margin:"90px auto",position:"relative",borderTop:"3px solid rgba(0, 0, 0, 0.1)",borderRight:"3px solid rgba(0, 0, 0, 0.1)",borderBottom:"3px solid rgba(0, 0, 0, 0.1)",borderLeft:"3px solid #818a91",transform:"translateZ(0)",animation:"loading-spinner 0.5s infinite linear"},oe=function(){return S.a.createElement("div",{className:"loading-spinner",style:ne},S.a.createElement("style",null,"\n    @keyframes loading-spinner {\n      0% { transform : rotate(0deg); }\n      100% { transform : rotate(360deg); }\n    }\n    "))},ce=function(e){return e.loading&&0===e.articles.length?S.a.createElement(oe,null):0===e.articles.length?S.a.createElement("div",{className:"article-preview"},"No articles are here... yet."):S.a.createElement("div",null,e.articles.map((function(e){return S.a.createElement(ae,{article:e,key:e.slug})})),S.a.createElement(re,{onSetPage:e.onSetPage,totalPagesCount:e.totalPagesCount,currentPage:e.currentPage}))},ie=function(e){return e.currentUser?S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.c,{className:"nav-link",isActive:function(e,t){return!!t.search.match("tab=feed")},to:{pathname:"/",search:"?tab=feed"}},"Your Feed")):null},le=function(e){return S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.c,{className:"nav-link",isActive:function(e,t){return!t.search.match(/tab=(feed|tag)/)},to:{pathname:"/",search:"?tab=all"}},"Global Feed"))},se=function(e){return e.tag?S.a.createElement("li",{className:"nav-item"},S.a.createElement("a",{href:"",className:"nav-link active"},S.a.createElement("i",{className:"ion-pound"})," ",e.tag)):null},ue=function(){var e=Object(D.h)(),t=G(),a=t.articleStore,r=t.userStore,n=Object(te.parse)(e.search).tab||"all",o=Object(te.parse)(e.search).tag||"",c=Object(k.useCallback)((function(e,t){switch(e){case"feed":return{myFeed:!0};case"tag":return{tag:t};default:return{}}}),[]),i=function(e){a.setPage(e),a.loadArticles()};return Object(k.useEffect)((function(){a.setPredicate(c(n,o)),a.loadArticles()}),[a,c,n,o]),Object(x.c)((function(){var e=r.currentUser,t=a.articles,c=a.isLoading,l=a.page,s=a.totalPagesCount;return S.a.createElement("div",{className:"col-md-9"},S.a.createElement("div",{className:"feed-toggle"},S.a.createElement("ul",{className:"nav nav-pills outline-active"},S.a.createElement(ie,{currentUser:e,tab:n}),S.a.createElement(le,{tab:n}),S.a.createElement(se,{tag:o}))),S.a.createElement(ce,{articles:t,loading:c,totalPagesCount:s,currentPage:l,onSetPage:i}))}))},me=function(e){var t=e.loading,a=e.tags;return t?S.a.createElement(oe,null):a?S.a.createElement("div",{className:"tag-list"},a.map((function(e){return S.a.createElement(A.b,{to:{pathname:"/",search:"?tab=tag&tag="+e},className:"tag-default tag-pill",key:e},e)}))):null},pe=function(){var e=G().commonStore;return Object(k.useEffect)((function(){X.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.a.awrap(e.loadTags());case 2:case"end":return t.stop()}}))}),[e]),Object(x.c)((function(){var t=e.appName,a=e.isLoadingTags,r=e.tags,n=e.token;return S.a.createElement("div",{className:"home-page"},S.a.createElement(ee,{token:n,appName:t}),S.a.createElement("div",{className:"container page"},S.a.createElement("div",{className:"row"},S.a.createElement(ue,null),S.a.createElement("div",{className:"col-md-3"},S.a.createElement("div",{className:"sidebar"},S.a.createElement("p",null,"Popular Tags"),S.a.createElement(me,{loading:a,tags:r}))))))}))},fe=function(e){var t=e.errors;return t?S.a.createElement("ul",{className:"error-messages"},Object.keys(t).map((function(e){return S.a.createElement("li",{key:e},e," ",t[e])}))):null},be=function(e){var t=G().authStore,a=function(e){return t.setEmail(e.target.value)},r=function(e){return t.setPassword(e.target.value)},n=function(a){a.preventDefault(),t.login().then((function(){return e.history.replace("/")})).catch((function(){}))};return Object(k.useEffect)((function(){return function(){return t.reset()}}),[t]),Object(x.c)((function(){var e=t.values,o=t.errors,c=t.inProgress;return S.a.createElement("div",{className:"auth-page"},S.a.createElement("div",{className:"container page"},S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},S.a.createElement("h1",{className:"text-xs-center"},"Sign In"),S.a.createElement("p",{className:"text-xs-center"},S.a.createElement(A.b,{to:"register"},"Need an account?")),S.a.createElement(fe,{errors:o}),S.a.createElement("form",{onSubmit:n},S.a.createElement("fieldset",null,S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"email",placeholder:"Email",value:e.email,onChange:a})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",value:e.password,onChange:r})),S.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:c},"Sign in")))))))}))},ge=function(e){var t=G().authStore,a=function(e){return t.setUsername(e.target.value)},r=function(e){return t.setEmail(e.target.value)},n=function(e){return t.setPassword(e.target.value)},o=function(a){a.preventDefault(),t.register().then((function(){return e.history.replace("/")})).catch((function(){}))};return Object(x.c)((function(){var e=t.values,c=t.errors,i=t.inProgress;return S.a.createElement("div",{className:"auth-page"},S.a.createElement("div",{className:"container page"},S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},S.a.createElement("h1",{className:"text-xs-center"},"Sign Up"),S.a.createElement("p",{className:"text-xs-center"},S.a.createElement(A.b,{to:"login"},"Have an account?")),S.a.createElement(fe,{errors:c}),S.a.createElement("form",{onSubmit:o},S.a.createElement("fieldset",null,S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Username",value:e.username,onChange:a})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"email",placeholder:"Email",value:e.email,onChange:r})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",value:e.password,onChange:n})),S.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:i},"Sign in")))))))}))},de=function(e){var t=G().userStore;return Object(x.c)((function(){return t.currentUser?S.a.createElement(D.b,e):S.a.createElement(D.a,{to:"/"})}))},he=a(40),ve=a(17),ye=function(e){var t=G().userStore,a=Object(k.useState)({image:"",username:"",bio:"",email:"",password:""}),r=Object(ve.a)(a,2),n=r[0],o=r[1],c=function(e){return function(t){var a=Object.assign({},n,Object(he.a)({},e,t.target.value));o(a)}},i=function(t){t.preventDefault();var a=Object.assign({},n);a.password||delete a.password,e.onSubmitForm(a)};return Object(k.useEffect)((function(){t.currentUser&&o({image:t.currentUser.image||"",username:t.currentUser.username||"",bio:t.currentUser.bio||"",email:t.currentUser.email||"",password:""})}),[t.currentUser]),Object(x.c)((function(){return S.a.createElement("form",{onSubmit:i},S.a.createElement("fieldset",null,S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control",type:"text",placeholder:"URL of profile picture",value:n.image,onChange:c("image")})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Username",value:n.username,onChange:c("username")})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("textarea",{className:"form-control form-control-lg",rows:8,placeholder:"Short bio about you",value:n.bio,onChange:c("bio")})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"email",placeholder:"Email",value:n.email,onChange:c("email")})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"password",placeholder:"New Password",value:n.password,onChange:c("password")})),S.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:t.updatingUser},"Update Settings")))}))},Ee=function(){var e=Object(D.g)(),t=G(),a=t.authStore,r=t.userStore,n=function(){return a.logout().then((function(){return e.replace("/")}))};return Object(x.c)((function(){return S.a.createElement("div",{className:"settings-page"},S.a.createElement("div",{className:"container page"},S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},S.a.createElement("h1",{className:"text-xs-center"},"Your Settings"),S.a.createElement(fe,{errors:r.updatingUserErrors}),S.a.createElement(ye,{currentUser:r.currentUser,onSubmitForm:function(e){return r.updateUser(e)}}),S.a.createElement("hr",null),S.a.createElement("button",{className:"btn btn-outline-danger",onClick:n},"Or click here to logout.")))))}))},Oe={display:"flex",justifyContent:"center"},je={display:"inline-block",margin:"20px auto",borderRadius:"4px",padding:"8px 15px",color:"rgb(240, 45, 45)",backgroundColor:"rgba(240, 45, 45, 0.1)"},we=function(e){return S.a.createElement("div",{style:Oe},S.a.createElement("div",{style:je},e.message))},Ne=function(e){return e.isUser?S.a.createElement(A.b,{to:"/settings",className:"btn btn-sm btn-outline-secondary action-btn"},S.a.createElement("i",{className:"ion-gear-a"})," Edit Profile Settings"):null},Pe=function(e){if(e.isUser)return null;var t="btn btn-sm action-btn";e.following?t+=" btn-secondary":t+=" btn-outline-secondary";return S.a.createElement("button",{className:t,onClick:function(t){t.preventDefault(),e.following?e.unfollow(e.username):e.follow(e.username)}},S.a.createElement("i",{className:"ion-plus-round"}),"\xa0",e.following?"Unfollow":"Follow"," ",e.username)},ke=function(e){var t=e.profile;return S.a.createElement("ul",{className:"nav nav-pills outline-active"},S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.c,{className:"nav-link",isActive:function(e,t){return!t.pathname.match("/favorites")},to:"/@".concat(t.username)},"My Articles")),S.a.createElement("li",{className:"nav-item"},S.a.createElement(A.c,{className:"nav-link",to:"/@".concat(t.username,"/favorites")},"Favorited Articles")))},Se=function(){var e=Object(D.h)(),t=Object(D.i)(),a=G(),r=a.articleStore,n=a.profileStore,o=a.userStore,c=function(){return n.follow()},i=function(){return n.unfollow()},l=function(e){r.setPage(e),r.loadArticles()},s=/\/favorites/.test(e.pathname)?"favorites":"all",u=Object(k.useMemo)((function(){return"favorites"===s?{favoritedBy:t.username}:{author:t.username}}),[s,t.username]);return Object(k.useEffect)((function(){n.loadProfile(t.username),r.setPredicate(u),r.loadArticles()}),[r,n,u,e.pathname,t.username]),Object(x.c)((function(){var e=n.profile,t=n.isLoadingProfile,a=o.currentUser;if(t&&!e)return S.a.createElement(oe,null);if(!e)return S.a.createElement(we,{message:"Can't load profile"});var s=a&&a.username===e.username;return S.a.createElement("div",{className:"profile-page"},S.a.createElement("div",{className:"user-info"},S.a.createElement("div",{className:"container"},S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},S.a.createElement("img",{src:e.image,className:"user-img",alt:""}),S.a.createElement("h4",null,e.username),S.a.createElement("p",null,e.bio),S.a.createElement(Ne,{isUser:s}),S.a.createElement(Pe,{isUser:s,username:e.username,following:e.following,follow:c,unfollow:i}))))),S.a.createElement("div",{className:"container"},S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},S.a.createElement("div",{className:"articles-toggle"},S.a.createElement(ke,{profile:e})),S.a.createElement(ce,{articles:r.articles,totalPagesCount:r.totalPagesCount,onSetPage:l,loading:r.isLoading})))))}))},Ce=a(41),Ue=a.n(Ce),Ae=function(e){var t=e.article;return e.canModify?S.a.createElement("span",null,S.a.createElement(A.b,{to:"/editor/".concat(t.slug),className:"btn btn-outline-secondary btn-sm"},S.a.createElement("i",{className:"ion-edit"})," Edit Article"),S.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){return e.onDelete(t.slug)}},S.a.createElement("i",{className:"ion-trash-a"})," Delete Article")):S.a.createElement("span",null)},De=Object(x.a)((function(e){var t=e.article;return S.a.createElement("div",{className:"article-meta"},S.a.createElement(A.b,{to:"/@".concat(t.author.username)},S.a.createElement("img",{src:t.author.image,alt:""})),S.a.createElement("div",{className:"info"},S.a.createElement(A.b,{to:"/@".concat(t.author.username),className:"author"},t.author.username),S.a.createElement("span",{className:"date"},new Date(t.createdAt).toDateString())),S.a.createElement(Ae,{canModify:e.canModify,article:t,onDelete:e.onDelete}))})),xe=function(e){var t=Object(k.useState)(""),a=Object(ve.a)(t,2),r=a[0],n=a[1],o=G().commentStore,c=function(e){n(e.target.value)},i=function(e){e.preventDefault(),o.createComment({body:r}).then((function(){return n("")}))};return Object(x.c)((function(){var t=o.isCreatingComment;return S.a.createElement("form",{className:"card comment-form",onSubmit:i},S.a.createElement("div",{className:"card-block"},S.a.createElement("textarea",{className:"form-control",placeholder:"Write a comment...",value:r,disabled:t,onChange:c,rows:3})),S.a.createElement("div",{className:"card-footer"},S.a.createElement("img",{src:e.currentUser.image,className:"comment-author-img",alt:""}),S.a.createElement("button",{className:"btn btn-sm btn-primary",type:"submit"},"Post Comment")))}))},Le=function(e){return e.show?S.a.createElement("span",{className:"mod-options"},S.a.createElement("i",{className:"ion-trash-a",onClick:function(){return e.onDelete(e.commentId)}})):null},Te=function(e){var t=e.comment,a=e.currentUser&&e.currentUser.username===t.author.username;return S.a.createElement("div",{className:"card"},S.a.createElement("div",{className:"card-block"},S.a.createElement("p",{className:"card-text"},t.body)),S.a.createElement("div",{className:"card-footer"},S.a.createElement(A.b,{to:"/@".concat(t.author.username),className:"comment-author"},S.a.createElement("img",{src:t.author.image,className:"comment-author-img",alt:""})),"\xa0",S.a.createElement(A.b,{to:"/@".concat(t.author.username),className:"comment-author"},t.author.username),S.a.createElement("span",{className:"date-posted"},new Date(t.createdAt).toDateString()),S.a.createElement(Le,{show:a,slug:e.slug,commentId:t.id,onDelete:e.onDelete})))},ze=Object(x.a)((function(e){return S.a.createElement("div",null,e.comments.map((function(t){return S.a.createElement(Te,{comment:t,currentUser:e.currentUser,slug:e.slug,key:t.id,onDelete:e.onDelete})})))})),Re=function(e){return e.currentUser?S.a.createElement("div",{className:"col-xs-12 col-md-8 offset-md-2"},S.a.createElement("div",null,S.a.createElement(fe,{errors:e.errors}),S.a.createElement(xe,{slug:e.slug,currentUser:e.currentUser})),S.a.createElement(ze,{comments:e.comments,slug:e.slug,currentUser:e.currentUser,onDelete:e.onDelete})):S.a.createElement("div",{className:"col-xs-12 col-md-8 offset-md-2"},S.a.createElement("p",null,S.a.createElement(A.b,{to:"/login"},"Sign in"),"\xa0or\xa0",S.a.createElement(A.b,{to:"/register"},"sign up"),"\xa0to add comments on this article."),S.a.createElement(ze,{comments:e.comments,slug:e.slug,currentUser:e.currentUser,onDelete:e.onDelete}))},Fe=function(){var e=Object(D.g)(),t=Object(D.i)().slug,a=G(),r=a.articleStore,n=a.commentStore,o=a.userStore;Object(k.useEffect)((function(){t&&(r.loadArticle(t,{acceptCached:!0}),n.setArticleSlug(t),n.loadComments())}),[r,n,t]);var c=function(t){r.deleteArticle(t).then((function(){return e.replace("/")}))},i=function(e){n.deleteComment(e)};return Object(x.c)((function(){var e=o.currentUser,a=n.comments,l=n.commentErrors,s=r.getArticle(t||"");if(!s)return S.a.createElement(we,{message:"Can't load article"});var u={__html:Ue()(s.body,{sanitize:!0})},m=e&&e.username===s.author.username;return S.a.createElement("div",{className:"article-page"},S.a.createElement("div",{className:"banner"},S.a.createElement("div",{className:"container"},S.a.createElement("h1",null,s.title),S.a.createElement(De,{article:s,canModify:m,onDelete:c}))),S.a.createElement("div",{className:"container page"},S.a.createElement("div",{className:"row article-content"},S.a.createElement("div",{className:"col-xs-12"},S.a.createElement("div",{dangerouslySetInnerHTML:u}),S.a.createElement("ul",{className:"tag-list"},s.tagList.map((function(e){return S.a.createElement("li",{className:"tag-default tag-pill tag-outline",key:e},e)}))))),S.a.createElement("hr",null),S.a.createElement("div",{className:"article-actions"}),S.a.createElement("div",{className:"row"},S.a.createElement(Re,{comments:a,errors:l,slug:t,currentUser:e,onDelete:i}))))}))},Ie=function(){var e=Object(D.g)(),t=Object(D.i)().slug,a=Object(k.useState)(""),r=Object(ve.a)(a,2),n=r[0],o=r[1],c=G().editorStore;Object(k.useEffect)((function(){t&&(c.setArticleSlug(t),c.loadInitialData())}),[c,t]);var i=function(e){return c.setTitle(e.target.value)},l=function(e){return c.setDescription(e.target.value)},s=function(e){return c.setBody(e.target.value)},u=function(e){return o(e.target.value)},m=function(e){switch(e.keyCode){case 13:case 9:case 188:9!==e.keyCode&&e.preventDefault(),p()}},p=function(){n&&(c.addTag(n.trim()),o(""))},f=function(t){t.preventDefault(),c.submit().then((function(t){c.reset(),e.replace("/article/".concat(t.slug))}))};return Object(x.c)((function(){var e=c.inProgress,t=c.errors,a=c.title,r=c.description,o=c.body,b=c.tagList;return S.a.createElement("div",{className:"editor-page"},S.a.createElement("div",{className:"container page"},S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},S.a.createElement(fe,{errors:t}),S.a.createElement("form",{onSubmit:f},S.a.createElement("fieldset",null,S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Article Title",value:a,onChange:i,disabled:e})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control",type:"text",placeholder:"What's this article about?",value:r,onChange:l,disabled:e})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("textarea",{className:"form-control",rows:8,placeholder:"Write your article (in markdown)",value:o,onChange:s,disabled:e})),S.a.createElement("fieldset",{className:"form-group"},S.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter tags",value:n,onChange:u,onBlur:p,onKeyDown:m,disabled:e}),S.a.createElement("div",{className:"tag-list"},b.map((function(e){return S.a.createElement("span",{className:"tag-default tag-pill",key:e},S.a.createElement("i",{className:"ion-close-round",onClick:function(){return function(e){c.inProgress||c.removeTag(e)}(e)}}),e)})))),S.a.createElement("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"submit",disabled:e},"Publish Article")))))))}))},Be=function(){var e=G(),t=e.commonStore,a=e.userStore;return Object(k.useEffect)((function(){t.token&&a.pullUser().finally((function(){return t.setAppLoaded()}))})),S.a.createElement(A.a,null,S.a.createElement(Q,null),S.a.createElement(D.d,null,S.a.createElement(D.b,{path:"/login",component:be}),S.a.createElement(D.b,{path:"/register",component:ge}),S.a.createElement(de,{path:"/settings",component:Ee}),S.a.createElement(D.b,{path:"/@:username",component:Se}),S.a.createElement(D.b,{path:"/@:username/favorites",component:Se}),S.a.createElement(D.b,{path:"/article/:slug",component:Fe}),S.a.createElement(D.b,{path:"/editor/:slug?",component:Ie}),S.a.createElement(D.b,{path:"/",component:pe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));U.a.render(S.a.createElement((function(e){var t=e.children,a=Object(x.b)((function(){return Y}));return S.a.createElement(_.Provider,{value:a},t)}),null,S.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.e9f532c2.chunk.js.map